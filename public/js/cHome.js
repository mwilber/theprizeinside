function Home(){this.panel=new Panel("home");this.panel.elem.find(".showuserprofile").click(this.ShowUserProfile(this));this.panel.elem.find(".showinfo").click(this.ShowInfo(this))}Home.prototype.ShowUserProfile=function(a){return function(){panel.userprofile.Load();return!1}};Home.prototype.ShowInfo=function(a){return function(){panel.info.Load();return!1}};
Home.prototype.Load=function(){DebugOut("Loading Home...");this.panel.elem.find(".prizes").empty().append($("<li/>").html("loading..."));$.get(apipath+"/reactor/srvlist/getprizes",this.HandlePrizeData(this));this.Show()};
Home.prototype.HandlePrizeData=function(a){return function(b,d){DebugOut("prize data incoming...");DebugOut(b);prizedata=b;QueryLocation();locationTimer=window.setInterval(QueryLocation,LOCATION_CK_INTERVAL);a.panel.elem.find(".prizes").empty();for(idx in b){var c=b[idx];a.panel.elem.find(".prizes").append($("<li>").append($("<div/>").addClass("details fa fa-caret-right")).append($("<div/>").addClass("icon fa fa-trophy").css("background-color","#"+c.restaurant.restaurantColor)).append($("<div/>").addClass("restaurant").html(c.restaurant.restaurantName)).append($("<div/>").addClass("prize").html(c.prizeName)).click(a.HandlePrizeClick(a,
c)))}}};Home.prototype.HandlePrizeClick=function(a,b){return function(a){panel.prize.Load(b);return!1}};Home.prototype.Show=function(){$("#header.header #homeview").attr("src","img/homebanner.jpg");this.panel.Show();supports_html5_storage()&&void 0==localStorage.firstrun&&(localStorage.firstrun=!0,panel.info.Show());$(window).trigger("resize");return!0};