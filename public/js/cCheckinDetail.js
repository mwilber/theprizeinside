function CheckinDetail(){this.panel=new Popup("checkindetail");this.panel.elem.find(".close").click(this.Close(this))}CheckinDetail.prototype.Close=function(a){return function(){a.panel.Hide();return!1}};
CheckinDetail.prototype.Load=function(a){this.panel.elem.find(".prizeimage").attr("src","");this.panel.elem.find(".prizeimage").hide();this.panel.elem.find(".prizecomment").html("");this.panel.elem.find(".locationmap").attr("src","");this.panel.elem.find(".locationmap").hide();this.panel.elem.find(".prizename").html("");this.panel.elem.find(".restaurantname").html("");this.panel.elem.find(".nickname").html("");this.panel.elem.find(".avatar").attr("src","");this.panel.elem.find(".number").html("");
$.get(apipath+"/reactor/srvlist/getcheckindetail/"+a,this.HandleCheckinData(this));this.Show()};CheckinDetail.prototype.SetPosition=function(){this.panel.elem.css("margin-top",Math.floor((panel.home.panel.elem.height()-this.panel.elem.height())/3))};
CheckinDetail.prototype.HandleCheckinData=function(a){return function(b){DebugOut("checkin data incoming...");DebugOut(b);""!=b.checkin.checkinPhoto&&(a.panel.elem.find(".prizeimage").attr("src",b.checkin.checkinPhoto),a.panel.elem.find(".prizeimage").show());if(""!=b.checkin.checkinLat&&""!=b.checkin.checkinLng&&0!=b.checkin.checkinLat&&0!=b.checkin.checkinLng){var c="http://maps.googleapis.com/maps/api/staticmap?zoom=13&size="+Math.floor(a.panel.elem.width()/4)+"x"+Math.floor(a.panel.elem.width()/
4)+"&maptype=roadmap&markers=color:red%7Clabel:C%7C"+b.checkin.checkinLat+","+b.checkin.checkinLng+"&sensor=false";a.panel.elem.find(".locationmap").attr("src",c);a.panel.elem.find(".locationmap").show()}a.panel.elem.find(".prizecomment").html(b.checkin.checkinComment);a.panel.elem.find(".prizename").html(b.prize.prizeName);a.panel.elem.find(".restaurantname").html(b.restaurant.restaurantName);a.panel.elem.find(".nickname").html(b.profile.profileNickname);a.panel.elem.find(".avatar").attr("src",b.profile.profilePicture);
a.panel.elem.find(".number").html(b.profile.count);a.SetPosition()}};CheckinDetail.prototype.Show=function(){this.panel.elem.show();return!0};