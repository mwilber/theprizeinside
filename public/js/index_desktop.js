function AppInit(){DebugOut("initing app");panel["prize"]=new Prize;panel["home"]=new Home;panel["checkin"]=new Checkin;panel["checkindetail"]=new CheckinDetail;panel["location"]=new Location;panel["userlocation"]=new UserLocation;panel["info"]=new Info;panel["app"]=new App;panel["locationoptions"]=new LocationOptions;panel["checkinpop"]=new CheckinPop;panel["home"].Load()}function AdInit(){admob.createBannerView({publisherId:"ca-app-pub-9860806024628930/2903343809",adSize:admob.AD_SIZE.BANNER},HandleAdSuccess,HandleAdFail)}function WallMapInit(){$("#wallmap").show();var e=new google.maps.LatLng(40.6687125,-73.5270709);var t={zoom:15,center:e,mapTypeId:google.maps.MapTypeId.ROADMAP,scrollwheel:true,streetViewControl:false,disableDefaultUI:true};wallmap=new google.maps.Map(document.getElementById("wallmap"),t);panel["prize"].locmap=wallmap;google.maps.event.addListenerOnce(wallmap,"idle",function(){GetCheckinPops()})}function GetCheckinPops(){ClearCheckinPops();$.get(apipath+"/reactor/srvlist/getcheckinsbyrecent/",HandleCheckinPops)}function ClearCheckinPops(){clearInterval(wallmaptimer)}function HandleCheckinPops(e){if(e.checkins.length>0){checkinpops=e.checkins;panel["checkinpop"].Load(checkinpops[checkinpopsidx].checkinId);wallmaptimer=setInterval(function(){panel["checkinpop"].panel.elem.hide();if(checkinpopsidx<checkinpops.length-1){checkinpopsidx++}else{checkinpopsidx=0}panel["checkinpop"].Load(checkinpops[checkinpopsidx].checkinId)},6e3)}}function HandleAdSuccess(){DebugOut("ad init success.");admob.requestAd({isTesting:false,extras:{color_bg:"AAAAFF",color_bg_top:"FFFFFF",color_border:"FFFFFF",color_link:"000080",color_text:"808080",color_url:"008000"}},function(){DebugOut("handle ad success!")},function(){DebugOut("handle ad fail")})}function HandleAdFail(){DebugOut("ad init failed.")}function GetFSData(){DebugOut("getting fs data: ");for(idx in prizedata){var e=prizedata[idx];$.get("https://api.foursquare.com/v2/venues/search?client_id=UMRUA4UFFY0RLEI1TKGXUT30JLQULNFRM3YVQWNCASQ3VE31&client_secret=4XSWL2PUIN02A3RNJY4GFRCLISF4RPC3URLVLHK2AOQD0EQ5&v=20140128&ll="+userLocation.lat()+","+userLocation.lng()+"&limit=10&query="+e.restaurant.restaurantName,HandleFSData(e))}}function HandleFSData(e){return function(t){DebugOut("FS Data Incoming...");fsdata[e.restaurant.restaurantAlias]=t;DebugOut(fsdata);var n=panel["prize"].HandleLocationData(panel["prize"]);n(fsdata[panel["prize"].restaurantalias])}}function HandleLogin(e){alert("got it");DebugOut(e)}var LOCATION_CK_INTERVAL=15e3;var DISTANCE_CHANGE_REFRESH_THRESHOLD=10;var CHECKIN_NOTIFICATION_THRESHOLD=.05;var apipath="http://theprizeinside.com";var wallmap=null;var wallmaptimer=null;var userLocation=new google.maps.LatLng(0,0);var autoCkLocation=new google.maps.LatLng(0,0);var locationTimer;var lsUserId=0;var prizedata=null;var fsdata=new Array;var gaPlugin=false;var checkinpops=null;var checkinpopsidx=0;var dict={en:{checkinPublic:"Post my name and location on The Prize Inside website.",checkinAnonymous:"Do not post my name and location on The Prize Inside website.",commentDefault:"Comment"}};var lang=dict.en;var panel=Array()